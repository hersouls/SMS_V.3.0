import{j as e,R as s,C as t,a,T as i,P as n,O as r}from"./radix-PkTNM-lE.js";import{r as l}from"./vendor-CzXpEsbX.js";import{c,u as o,L as d}from"./router-Cv8QkTiH.js";import{H as x}from"./Header-CIDamdo7.js";import{G as m}from"./GlassCard-7KCV_-aY.js";import{c as h,B as g,u as j,W as u,a as f}from"./index-tT6ahxMo.js";import{X as N,l as p,o as b,H as w,a7 as v,a8 as k,a9 as y,N as z,C,P as D,aa as R,ab as S,i as L,Q as M,r as $,ac as T,T as K,J as O,ad as U,u as F,ae as _,A,q as B,v as H,_ as I,a6 as q,t as G,k as P,a3 as Y,af as J,w as Q}from"./icons-ojVkv7w_.js";import{g as W}from"./phaseColors-zzJtI-PF.js";import"./others-B6ceBAQi.js";import"./utils-VH1XAVo5.js";function E({...t}){return e.jsx(s,{"data-slot":"dialog",...t})}function V({...s}){return e.jsx(n,{"data-slot":"dialog-portal",...s})}function X({className:s,...t}){return e.jsx(r,{"data-slot":"dialog-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function Z({className:s,children:i,...n}){return e.jsxs(V,{"data-slot":"dialog-portal",children:[e.jsx(X,{}),e.jsxs(t,{"data-slot":"dialog-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...n,children:[i,e.jsxs(a,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(N,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ee({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:h("flex flex-col gap-2 text-center sm:text-left",s),...t})}function se({className:s,...t}){return e.jsx(i,{"data-slot":"dialog-title",className:h("text-lg leading-none font-semibold",s),...t})}function te({isOpen:s,onClose:t,onConfirm:a,serviceName:i}){const[n,r]=l.useState(!1);return e.jsx(E,{open:s,onOpenChange:t,children:e.jsxs(Z,{className:"glass-default border-white/20",children:[e.jsxs(ee,{className:"flex flex-row items-center justify-between",children:[e.jsx(se,{className:"text-white-force text-xl-ko font-semibold tracking-ko-normal break-keep-ko",children:"구독 삭제"}),e.jsx(g,{variant:"ghost",size:"icon",onClick:t,className:"hover-button touch-target-sm focus-ring","aria-label":"모달 닫기",disabled:n,children:e.jsx(N,{size:16,className:"icon-enhanced"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4 text-4xl",children:"🗑️"}),e.jsxs("p",{className:"mb-4 text-base-ko text-white-force tracking-ko-normal break-keep-ko",children:[e.jsx("strong",{children:i})," 구독을 삭제하시겠습니까?"]}),e.jsx("p",{className:"text-sm-ko text-white/70 tracking-ko-normal break-keep-ko",children:"이 작업은 되돌릴 수 없으며, 모든 구독 정보가 영구적으로 삭제됩니다."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(g,{variant:"outline",onClick:t,className:"flex-1 hover-button touch-target text-base-ko font-medium tracking-ko-normal focus-ring",disabled:n,children:"취소"}),e.jsx(g,{variant:"destructive",onClick:async()=>{r(!0);try{await a()}catch(e){}finally{r(!1)}},className:"flex-1 hover-button touch-target text-base-ko font-medium tracking-ko-normal focus-ring",disabled:n,children:n?"삭제 중...":"삭제"})]})]})]})})}function ae(){const{id:s}=c(),t=o(),{subscriptions:a,settings:i,user:n,updateSubscription:r,deleteSubscription:g}=j(),[N,E]=l.useState(!1),[V,X]=l.useState(!1),Z=a.find(e=>e.id===s);if(!Z)return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(x,{}),e.jsx("main",{className:"pt-28 pb-token-xl px-token-md",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(m,{variant:"light",className:"p-token-2xl",children:e.jsxs("div",{className:"text-center max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-error-500/20 to-warning-500/20 rounded-full flex items-center justify-center mx-auto mb-token-lg",children:e.jsx(p,{size:40,className:"text-error-400"})}),e.jsx("h3",{className:"text-white-force text-high-contrast font-semibold mb-token-sm",children:"구독을 찾을 수 없습니다"}),e.jsx("p",{className:"text-white-force text-high-contrast text-sm mb-token-lg leading-relaxed tracking-ko-normal",children:"요청하신 구독 정보가 존재하지 않거나 삭제되었습니다. 구독 목록에서 다시 확인해주세요."}),e.jsxs("div",{className:"flex justify-center space-x-token-sm",children:[e.jsx(d,{to:"/subscriptions",children:e.jsxs(u,{variant:"primary",className:"shadow-lg shadow-primary-500/20 text-white",children:[e.jsx(b,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"구독 목록"]})}),e.jsx(d,{to:"/dashboard",children:e.jsxs(u,{variant:"secondary",className:"text-white-force text-high-contrast",children:[e.jsx(w,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"대시보드"]})})]})]})})})})]});const ee=W({"엔터테인먼트":"shine","음악":"growth","개발":"challenge",AI:"challenge","디자인":"growth","생산성":"beginning","교육":"beginning","피트니스":"challenge","뉴스":"beginning","게임":"shine","기타":"beginning"}[Z.category]||"beginning"),se=async e=>{X(!0);try{await r(Z.id,{status:e});try{n&&await f(n.id)}catch(s){}}catch(s){alert("상태 변경에 실패했습니다. 다시 시도해주세요.")}finally{X(!1)}},ae=s=>{switch(s){case"active":return e.jsx(C,{size:16,className:"text-white"});case"paused":return e.jsx(Q,{size:16,className:"text-warning-400"});case"cancelled":return e.jsx(P,{size:16,className:"text-error-400"});default:return e.jsx(H,{size:16,className:"text-white/60"})}},ie=e=>{switch(e){case"active":return"활성";case"paused":return"일시정지";case"cancelled":return"해지";default:return"알 수 없음"}},ne=e=>{switch(e){case"active":return"bg-success-500/40 border-success-400/60 shadow-lg shadow-success-500/30 text-white font-semibold border-2";case"paused":return"bg-warning-500/40 border-warning-400/60 shadow-lg shadow-warning-500/30 text-white font-semibold border-2";case"cancelled":return"bg-error-500/40 border-error-400/60 shadow-lg shadow-error-500/30 text-white font-semibold border-2";default:return"bg-white/10 text-white/70 border-white/20 font-semibold border-2"}},re=(e,s)=>{if("USD"===s){const s=e*i.exchangeRate;return`$${e.toLocaleString()} (${s.toLocaleString("ko-KR")}원)`}return`${e.toLocaleString("ko-KR")}원`},le=()=>{const e=new Date,s=new Date(e.getFullYear(),e.getMonth(),Z.paymentDay);s<e&&s.setMonth(s.getMonth()+1);const t=s.getTime()-e.getTime();return Math.ceil(t/864e5)},ce=()=>"yearly"===Z.paymentCycle?"USD"===Z.currency?Z.amount*i.exchangeRate/12:Z.amount/12:"USD"===Z.currency?Z.amount*i.exchangeRate:Z.amount,oe=le(),de=ce(),xe="monthly"===Z.paymentCycle?12*ce():"USD"===Z.currency?Z.amount*i.exchangeRate:Z.amount;return e.jsxs("div",{className:"min-h-screen bg-background",role:"main","aria-label":"구독 상세 페이지",children:[e.jsx(x,{}),e.jsx("main",{className:"pt-28 pb-token-xl px-token-md",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-token-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-token-md",children:[e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>t(-1),ariaLabel:"뒤로가기",children:e.jsx(v,{size:20})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx("h1",{className:"text-3xl font-bold text-white-force text-high-contrast",children:Z.serviceName}),e.jsx("div",{className:h("px-2 py-1 rounded-full text-xs",ne(Z.status)),children:ie(Z.status)}),Z.autoRenewal&&"active"===Z.status&&e.jsx("div",{className:"px-2 py-1 bg-success-500/40 border-success-400/60 shadow-lg shadow-success-500/30 text-white rounded-full text-xs font-semibold border-2",children:"자동갱신"})]}),e.jsxs("p",{className:"text-white-force text-high-contrast",children:[Z.category," •",e.jsxs("span",{className:"ml-2 text-primary-400",children:["월 ",de.toLocaleString("ko-KR"),"원 • ",oe,"일 후 결제"]})]})]})]}),e.jsxs("div",{className:"flex space-x-token-sm",children:[e.jsxs(u,{variant:"ghost",size:"sm",onClick:()=>t("/subscriptions"),className:"hidden md:flex text-white/60 hover:text-white",children:[e.jsx(b,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"목록"]}),e.jsx(d,{to:`/subscriptions/${Z.id}/edit`,children:e.jsxs(u,{variant:"secondary",className:"shadow-lg shadow-secondary-500/20 text-white-force text-high-contrast",children:[e.jsx(k,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"수정"]})}),e.jsxs(u,{variant:"ghost",onClick:()=>E(!0),className:"text-error-400 hover:text-error-300 hover:bg-error-500/10",children:[e.jsx(y,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"삭제"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-token-xl",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-token-lg",children:[e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:h("p-token-sm rounded-lg",ee.bg),children:e.jsx(z,{size:20,className:ee.text})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force text-high-contrast",children:"서비스 정보"}),e.jsxs("p",{className:"text-white-force text-high-contrast text-sm",children:[Z.category," 서비스"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-token-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:h("w-24 h-24 rounded-2xl flex items-center justify-center text-white-force text-high-contrast text-2xl font-bold flex-shrink-0 shadow-lg",ee.bg),children:Z.logoImage?e.jsx("img",{src:Z.logoImage,alt:Z.serviceName,className:"w-20 h-20 rounded-xl object-cover"}):Z.logo||Z.serviceName.charAt(0).toUpperCase()}),e.jsx("div",{className:h("absolute -bottom-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center border-2 border-background","active"===Z.status?"bg-success-500":"paused"===Z.status?"bg-warning-500":"bg-error-500"),children:"active"===Z.status?e.jsx(C,{size:12,className:"text-white-force icon-enhanced"}):"paused"===Z.status?e.jsx(D,{size:12,className:"text-white-force icon-enhanced"}):e.jsx(R,{size:12,className:"text-white-force icon-enhanced"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-token-md mb-token-sm",children:[e.jsx("h3",{className:"text-3xl font-bold text-white-force",children:Z.serviceName}),Z.tier&&e.jsx("div",{className:"px-3 py-1 bg-gradient-to-r from-primary-500/20 to-secondary-500/20 border border-primary-500/30 rounded-full",children:e.jsx("span",{className:"text-primary-300 text-sm font-medium",children:Z.tier})})]}),e.jsxs("div",{className:"space-y-token-sm",children:[Z.serviceUrl&&e.jsxs("a",{href:Z.serviceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 text-primary-400 hover:text-primary-300 text-sm transition-colors group",children:[e.jsx(z,{size:14}),e.jsx("span",{className:"group-hover:underline",children:Z.serviceUrl}),e.jsx(S,{size:12})]}),e.jsxs("div",{className:"flex items-center space-x-token-md",children:[ae(Z.status),e.jsx("span",{className:h("px-3 py-1 rounded-full text-sm border font-medium",ne(Z.status)),children:ie(Z.status)}),"cancelled"!==Z.status&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-white/40",children:"•"}),e.jsx("span",{className:h("px-2 py-1 rounded-full text-xs font-medium",(()=>{switch((()=>{const e=le();return 0===e?"today":1===e?"tomorrow":e<=3?"urgent":e<=7?"soon":"normal"})()){case"today":return"bg-error-500/20 text-error-300 border border-error-500/30";case"tomorrow":return"bg-warning-500/20 text-warning-300 border border-warning-500/30";case"urgent":return"bg-warning-500/15 text-warning-400 border border-warning-500/20";case"soon":return"bg-info-500/15 text-info-400 border border-info-500/20";default:return"bg-white/10 text-white/60 border border-white/20"}})()),children:0===oe?"오늘 결제":1===oe?"내일 결제":`${oe}일 후 결제`})]})]})]})]})]})]}),e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-success-500/20 rounded-lg",children:e.jsx(L,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force text-high-contrast",children:"결제 정보"}),e.jsx("p",{className:"text-white-force text-high-contrast text-sm",children:"구독료 및 결제 설정"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-token-md mb-token-lg",children:[e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx(M,{size:16,className:"text-white-force icon-enhanced"}),e.jsx("label",{className:"text-white-force text-high-contrast text-sm",children:"구독료"})]}),e.jsx("p",{className:"text-white-force text-high-contrast font-bold text-lg",children:re(Z.amount,Z.currency)}),e.jsx("p",{className:"text-white-force text-high-contrast text-xs",children:(e=>{switch(e){case"monthly":return"월간";case"yearly":return"연간";case"onetime":return"일회성";default:return e}})(Z.paymentCycle)})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx($,{size:16,className:"text-warning-400 icon-enhanced"}),e.jsx("label",{className:"text-white-force text-high-contrast text-sm",children:"결제일"})]}),e.jsxs("p",{className:"text-white-force text-high-contrast font-bold text-lg",children:["매월 ",Z.paymentDay,"일"]}),e.jsx("p",{className:"text-white-force text-high-contrast text-xs",children:(()=>{const e=new Date,s=new Date(e.getFullYear(),e.getMonth(),Z.paymentDay);return s<e&&s.setMonth(s.getMonth()+1),s.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})()})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx(T,{size:16,className:"text-info-400 icon-enhanced"}),e.jsx("label",{className:"text-white-force text-high-contrast text-sm",children:"남은 일수"})]}),e.jsxs("p",{className:h("font-bold text-lg",oe<=3?"text-warning-400":oe<=7?"text-info-400":"text-white-force text-high-contrast"),children:[oe,"일"]}),e.jsx("p",{className:"text-white-force text-high-contrast text-xs",children:0===oe?"오늘 결제":1===oe?"내일 결제":"결제 예정"})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx(K,{size:16,className:"text-primary-400"}),e.jsx("label",{className:"text-white/60 text-sm",children:"월 환산"})]}),e.jsxs("p",{className:"text-primary-400 font-bold text-lg",children:[de.toLocaleString("ko-KR"),"원"]}),e.jsx("p",{className:"text-white/60 text-xs",children:"월간 지출"})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx(O,{size:16,className:"text-secondary-400"}),e.jsx("label",{className:"text-white/60 text-sm",children:"연간 예상"})]}),e.jsxs("p",{className:"text-secondary-400 font-bold text-lg",children:[xe.toLocaleString("ko-KR"),"원"]}),e.jsx("p",{className:"text-white/60 text-xs",children:"yearly"===Z.paymentCycle?"연간 할인":"연간 환산"})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx(M,{size:16,className:"text-white/60"}),e.jsx("label",{className:"text-white/60 text-sm",children:"결제수단"})]}),e.jsx("p",{className:"text-white font-medium",children:Z.paymentMethod||"미설정"}),e.jsx("p",{className:"text-white/60 text-xs",children:"결제 방법"})]})]}),"yearly"===Z.paymentCycle&&e.jsxs("div",{className:"p-token-md bg-gradient-to-r from-success-500/10 to-primary-500/10 border border-success-500/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(U,{size:16,className:"text-white"}),e.jsx("h3",{className:"text-white font-medium",children:"연간 구독 혜택"})]}),e.jsx("p",{className:"text-success-200/80 text-sm",children:"월간 구독 대비 약 17% 할인 혜택을 받고 있습니다."})]})]}),e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-warning-500/20 rounded-lg",children:e.jsx(F,{size:20,className:"text-warning-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force text-high-contrast",children:"구독 설정"}),e.jsx("p",{className:"text-white-force text-high-contrast text-sm",children:"상태 및 갱신 설정"})]})]}),e.jsxs("div",{className:"space-y-token-md",children:[e.jsx("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between mb-token-md",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white-force text-high-contrast font-medium mb-1",children:"구독 상태"}),e.jsx("p",{className:"text-white-force text-high-contrast text-sm",children:"구독을 일시정지하거나 재개할 수 있습니다"})]}),e.jsxs("div",{className:"flex space-x-token-xs",children:[e.jsxs(u,{variant:"active"===Z.status?"primary":"ghost",size:"sm",onClick:()=>se("active"),disabled:V||"active"===Z.status,children:[e.jsx(_,{size:14,className:"mr-1 text-white-force icon-enhanced"}),"활성"]}),e.jsxs(u,{variant:"paused"===Z.status?"secondary":"ghost",size:"sm",onClick:()=>se("paused"),disabled:V||"paused"===Z.status,children:[e.jsx(D,{size:14,className:"mr-1 text-white-force icon-enhanced"}),"일시정지"]}),e.jsxs(u,{variant:(Z.status,"ghost"),size:"sm",onClick:()=>se("cancelled"),disabled:V||"cancelled"===Z.status,className:"text-error-400 hover:text-error-300",children:[e.jsx(R,{size:14,className:"mr-1 text-white-force icon-enhanced"}),"해지"]})]})]})}),e.jsx("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white-force text-high-contrast font-medium mb-1",children:"자동 갱신"}),e.jsx("p",{className:"text-white-force text-high-contrast text-sm",children:"구독이 자동으로 갱신되도록 설정합니다"})]}),e.jsx("button",{onClick:async()=>{X(!0);try{await r(Z.id,{autoRenewal:!Z.autoRenewal});try{n&&await f(n.id)}catch(e){}}catch(e){alert("자동 갱신 설정 변경에 실패했습니다. 다시 시도해주세요.")}finally{X(!1)}},disabled:V,className:h("relative inline-flex h-8 w-14 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-background",Z.autoRenewal?"bg-primary-500":"bg-white/20",V&&"opacity-50 cursor-not-allowed"),children:e.jsx("span",{className:h("inline-block h-6 w-6 transform rounded-full bg-white transition-transform duration-200 shadow-lg",Z.autoRenewal?"translate-x-7":"translate-x-1")})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-token-md",children:[e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx($,{size:16,className:"text-info-400"}),e.jsx("label",{className:"text-white/60 text-sm",children:"시작일"})]}),e.jsx("p",{className:"text-white font-medium",children:(me=Z.startDate,new Date(me).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}))}),e.jsxs("p",{className:"text-white/50 text-xs mt-1",children:[Math.floor(((new Date).getTime()-new Date(Z.startDate).getTime())/864e5),"일 경과"]})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(A,{size:16,className:"text-secondary-400"}),e.jsx("label",{className:"text-white/60 text-sm",children:"결제 횟수"})]}),e.jsxs("p",{className:"text-white font-medium",children:[Math.floor(((new Date).getTime()-new Date(Z.startDate).getTime())/2592e6),"회"]}),e.jsx("p",{className:"text-white/50 text-xs mt-1",children:"예상 결제 횟수"})]})]})]})]}),e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-info-500/20 rounded-lg",children:e.jsx(B,{size:20,className:"text-info-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force text-high-contrast",children:"알림 설정"}),e.jsx("p",{className:"text-white-force text-high-contrast text-sm",children:"결제 알림 관리"})]})]}),e.jsx("div",{className:"space-y-token-md",children:[{key:"sevenDays",title:"7일 전 알림",description:"결제 7일 전에 미리 알림을 받습니다",icon:$,recommended:!0},{key:"threeDays",title:"3일 전 알림",description:"결제 3일 전에 알림을 받습니다",icon:H,recommended:!0},{key:"sameDay",title:"당일 알림",description:"결제 당일에 알림을 받습니다",icon:B,recommended:!1}].map(s=>{const t=s.icon,a=Z.notifications[s.key];return e.jsx("div",{className:h("p-token-lg glass-light rounded-xl border transition-all duration-200",a?"border-primary-500/30 bg-primary-500/5":"border-white/10"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-token-md flex-1",children:[e.jsx("div",{className:h("p-token-sm rounded-lg",a?"bg-primary-500/20":"bg-white/10"),children:e.jsx(t,{size:20,className:h(a?"text-primary-400":"text-white/60")})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-1",children:[e.jsx("h3",{className:"text-white font-medium",children:s.title}),s.recommended&&e.jsx("span",{className:"px-2 py-0.5 bg-success-500/20 text-white rounded-full text-xs",children:"추천"})]}),e.jsx("p",{className:"text-white/60 text-sm",children:s.description}),a&&e.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs text-white",children:[e.jsx(I,{size:12}),e.jsx("span",{children:"알림 활성화됨"})]})]})]}),e.jsx("button",{onClick:()=>(async e=>{X(!0);try{await r(Z.id,{notifications:{...Z.notifications,[e]:!Z.notifications[e]}});try{n&&await f(n.id)}catch(s){}}catch(s){alert("알림 설정 변경에 실패했습니다. 다시 시도해주세요.")}finally{X(!1)}})(s.key),disabled:V,className:h("relative inline-flex h-8 w-14 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-background",a?"bg-primary-500":"bg-white/20",V&&"opacity-50 cursor-not-allowed"),children:e.jsx("span",{className:h("inline-block h-6 w-6 transform rounded-full bg-white transition-transform duration-200 shadow-lg",a?"translate-x-7":"translate-x-1")})})]})},s.key)})}),e.jsxs("div",{className:"mt-token-lg p-token-md bg-gradient-to-r from-info-500/10 to-primary-500/10 border border-info-500/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(A,{size:16,className:"text-info-400"}),e.jsx("h3",{className:"text-info-300 font-medium",children:"알림 현황"})]}),e.jsxs("p",{className:"text-info-200/80 text-sm",children:["총 ",Object.values(Z.notifications).filter(Boolean).length,"개의 알림이 활성화되어 있습니다. 결제일에 맞춰 정확한 시간에 알림을 전송합니다."]})]})]}),Z.memo&&e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-secondary-500/20 rounded-lg",children:e.jsx(q,{size:20,className:"text-secondary-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"메모"}),e.jsx("p",{className:"text-white/60 text-sm",children:"추가 정보"})]})]}),e.jsx("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:e.jsx("p",{className:"text-white/80 leading-relaxed break-keep-ko",children:Z.memo})})]})]}),e.jsxs("div",{className:"space-y-token-lg",children:[e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-gradient-to-br from-primary-500 to-secondary-500 rounded-lg",children:e.jsx(G,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"요약 정보"}),e.jsx("p",{className:"text-white/60 text-sm",children:"핵심 지표"})]})]}),e.jsx("div",{className:"space-y-token-sm",children:[{label:"구독 상태",value:ie(Z.status),icon:ae(Z.status),color:"active"===Z.status?"text-white":"paused"===Z.status?"text-warning-400":"text-error-400"},{label:"다음 결제",value:`${oe}일 후`,icon:e.jsx(T,{size:14,className:"text-warning-400"}),color:oe<=3?"text-warning-400":"text-white"},{label:"월 지출",value:`${de.toLocaleString("ko-KR")}원`,icon:e.jsx(L,{size:14,className:"text-primary-400"}),color:"text-primary-400"},{label:"자동갱신",value:Z.autoRenewal?"활성":"비활성",icon:Z.autoRenewal?e.jsx(C,{size:14,className:"text-white"}):e.jsx(P,{size:14,className:"text-error-400"}),color:Z.autoRenewal?"text-white":"text-error-400"}].map((s,t)=>e.jsx("div",{className:"p-token-sm glass-light rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-token-xs",children:[s.icon,e.jsx("span",{className:"text-white/60 text-sm",children:s.label})]}),e.jsx("span",{className:h("font-medium text-sm",s.color),children:s.value})]})},t))})]}),e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:h("p-token-sm rounded-lg",ee.bg),children:e.jsx(Y,{size:20,className:ee.text})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"분류"}),e.jsx("p",{className:"text-white/60 text-sm",children:"카테고리 & 태그"})]})]}),e.jsxs("div",{className:"space-y-token-md",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-white/60 text-sm mb-token-xs block",children:"카테고리"}),e.jsx("div",{className:h("p-token-md rounded-xl border-2",ee.bg,ee.border),children:e.jsx("span",{className:h("font-medium",ee.text),children:Z.category})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-white/60 text-sm mb-token-xs block",children:["태그 (",Z.tags.length,"개)"]}),Z.tags.length>0?e.jsx("div",{className:"flex flex-wrap gap-token-xs",children:Z.tags.map((s,t)=>e.jsx("div",{className:"px-token-sm py-1 bg-secondary-500/20 border border-secondary-500/30 rounded-full",children:e.jsxs("span",{className:"text-secondary-300 text-xs font-medium",children:["#",s]})},t))}):e.jsx("div",{className:"p-token-md bg-white/5 border border-white/10 rounded-lg text-center",children:e.jsx("span",{className:"text-white/40 text-sm",children:"태그가 없습니다"})})]})]})]}),e.jsxs(m,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-info-500/20 rounded-lg",children:e.jsx(B,{size:20,className:"text-info-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"알림 현황"}),e.jsx("p",{className:"text-white/60 text-sm",children:"설정 상태"})]})]}),e.jsxs("div",{className:"space-y-token-sm",children:[[{key:"sevenDays",label:"7일 전"},{key:"threeDays",label:"3일 전"},{key:"sameDay",label:"당일"}].map(s=>{const t=Z.notifications[s.key];return e.jsx("div",{className:"p-token-sm glass-light rounded-lg border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white/70 text-sm",children:s.label}),e.jsx("div",{className:"flex items-center space-x-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(C,{size:12,className:"text-white"}),e.jsx("span",{className:"text-white font-medium text-xs",children:"ON"})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{size:12,className:"text-error-400"}),e.jsx("span",{className:"text-error-400 font-medium text-xs",children:"OFF"})]})})]})},s.key)}),e.jsx("div",{className:"pt-token-sm border-t border-white/10",children:e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-white/60 text-xs",children:[Object.values(Z.notifications).filter(Boolean).length,"/3 활성화"]})})})]})]}),e.jsxs(m,{variant:"light",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-gradient-to-br from-secondary-500/20 to-primary-500/20 rounded-lg",children:e.jsx(F,{size:20,className:"text-secondary-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"빠른 작업"}),e.jsx("p",{className:"text-white/60 text-sm",children:"원클릭 액션"})]})]}),e.jsxs("div",{className:"space-y-token-sm",children:[e.jsx(d,{to:`/subscriptions/${Z.id}/edit`,children:e.jsxs(u,{variant:"ghost",size:"sm",className:"w-full justify-start text-white/60 hover:text-white",children:[e.jsx(k,{size:16,className:"mr-token-sm text-white"}),"정보 수정"]})}),e.jsxs(u,{variant:"ghost",size:"sm",className:"w-full justify-start text-white/60 hover:text-white",onClick:()=>{return e=`${Z.serviceName} - ${re(Z.amount,Z.currency)}`,void navigator.clipboard.writeText(e);var e},children:[e.jsx(J,{size:16,className:"mr-token-sm text-white"}),"정보 복사"]}),e.jsxs(u,{variant:"ghost",size:"sm",className:"w-full justify-start text-white/60 hover:text-white",onClick:()=>t("/subscriptions"),children:[e.jsx(b,{size:16,className:"mr-token-sm text-white"}),"목록 보기"]}),e.jsxs(u,{variant:"ghost",size:"sm",className:"w-full justify-start text-white/60 hover:text-white",onClick:()=>t("/dashboard"),children:[e.jsx(w,{size:16,className:"mr-token-sm text-white"}),"대시보드"]})]})]})]})]})]})}),e.jsx("footer",{className:"px-token-md pb-token-lg",role:"contentinfo","aria-label":"페이지 하단 정보",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(m,{variant:"light",className:"p-token-lg",children:e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-white-force text-high-contrast text-sm",children:["© 2024 Moonwave 구독 관리 • ",(null==n?void 0:n.name)||(null==n?void 0:n.email),"님의 구독 상세"]})})})})}),N&&e.jsx(te,{isOpen:N,onClose:()=>E(!1),onConfirm:()=>{g(Z.id),t("/subscriptions")},serviceName:Z.serviceName})]});var me}export{ae as SubscriptionCard};
