import{j as e}from"./radix-PkTNM-lE.js";import{r as s}from"./vendor-CzXpEsbX.js";import{u as t,L as a}from"./router-Cv8QkTiH.js";import{H as i}from"./Header-CIDamdo7.js";import{F as r}from"./Footer-Bq7VjlJl.js";import{G as n}from"./GlassCard-7KCV_-aY.js";import{u as c,W as l,c as o}from"./index-tT6ahxMo.js";import{H as d,R as x,O as m,n as h,T as f,J as j,A as g,U as N,i as p,q as u,am as b,u as v,_ as w,M as k,r as y,a2 as z,N as S,B as R,an as D,ao as C,D as K,a9 as L,t as U,ab as T,I as $,s as M,Z as O,ad as J,X as P}from"./icons-ojVkv7w_.js";import"./others-B6ceBAQi.js";import"./utils-VH1XAVo5.js";function A(){var A,E,F;const q=t(),{user:B,settings:H,updateSettings:I,logout:G,subscriptions:W,refreshData:Z}=c(),[_,Q]=s.useState(H),[V,X]=s.useState(!1),[Y,ee]=s.useState(!1),[se,te]=s.useState("idle"),[ae,ie]=s.useState(!1),[re,ne]=s.useState(0),[ce,le]=s.useState("profile"),[oe,de]=s.useState(!1);s.useEffect(()=>{Q(H)},[H]),s.useEffect(()=>{if(re>0){const e=setTimeout(()=>ne(re-1),1e3);return()=>clearTimeout(e)}ae&&0===re&&ie(!1)},[re,ae]);const xe=async e=>{te("saving");try{await I(e),Q(s=>({...s,...e})),te("saved")}catch(s){te("error"),alert("설정 저장에 실패했습니다. 다시 시도해주세요.")}finally{setTimeout(()=>te("idle"),2e3)}},me=(()=>{const e=W.filter(e=>"active"===e.status),s=W.filter(e=>"paused"===e.status),t=W.filter(e=>"cancelled"===e.status),a=e.reduce((e,s)=>{const t="USD"===s.currency?s.amount*_.exchangeRate:s.amount;return e+("monthly"===s.paymentCycle?t:t/12)},0),i=12*a,r=e.length>0?a/e.length:0,n=e.filter(e=>"yearly"===e.paymentCycle).reduce((e,s)=>{const t="USD"===s.currency?s.amount*_.exchangeRate:s.amount;return e+(t/12*12-t)},0);return{total:W.length,active:e.length,paused:s.length,cancelled:t.length,monthlyTotal:a,yearlyTotal:i,averagePerSubscription:r,yearlySavings:n}})(),he=[{key:"profile",label:"프로필",icon:N,color:"primary"},{key:"currency",label:"환율",icon:p,color:"success"},{key:"notifications",label:"알림",icon:u,color:"warning"},{key:"security",label:"보안",icon:b,color:"error"},{key:"advanced",label:"고급",icon:v,color:"secondary"}];return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(i,{}),e.jsx("main",{className:"pt-28 pb-token-xl px-token-md",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-token-xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-token-md",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>q("/dashboard"),className:"hidden md:flex text-white-force/60 hover:text-white-force hover:bg-white/30 active:scale-95 focus:ring-2 focus:ring-white/50 transition-all duration-200",children:[e.jsx(d,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"대시보드"]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-xs",children:[e.jsx("h1",{className:"text-3xl font-bold text-white-force",children:"설정"}),"idle"!==se&&e.jsxs("div",{className:"flex items-center space-x-token-xs px-2 py-1 rounded-full bg-white/10",children:[(()=>{switch(se){case"saving":return e.jsx(x,{size:16,className:"animate-spin text-primary-400"});case"saved":return e.jsx(w,{size:16,className:"text-white"});case"error":return e.jsx(P,{size:16,className:"text-error-400"});default:return null}})(),e.jsx("span",{className:o("text-xs","saved"===se&&"text-white-force","error"===se&&"text-error-400","saving"===se&&"text-primary-400"),children:(()=>{switch(se){case"saving":return"저장 중...";case"saved":return"저장됨";case"error":return"저장 실패";default:return""}})()})]})]}),e.jsxs("p",{className:"text-white-force/70",children:[(null==B?void 0:B.name)||(null==(A=null==B?void 0:B.email)?void 0:A.split("@")[0]),"님의 계정 설정 •",e.jsxs("span",{className:"ml-2 text-primary-400",children:[me.active,"개 활성 구독 • 월 ",me.monthlyTotal.toLocaleString("ko-KR"),"원"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-token-sm",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:async()=>{ee(!0);try{await Z()}catch(e){}finally{ee(!1)}},disabled:Y,className:"hidden md:flex text-white-force/60 hover:text-white-force hover:bg-white/30 active:scale-95 focus:ring-2 focus:ring-white/50 transition-all duration-200","aria-label":Y?"데이터 새로고침 중...":"데이터 새로고침",children:[e.jsx(x,{size:16,className:o("mr-token-xs text-white-force icon-enhanced",Y&&"animate-spin")}),"새로고침"]}),e.jsxs(l,{variant:"primary",onClick:()=>{const e={};_.exchangeRate!==H.exchangeRate&&(e.exchangeRate=_.exchangeRate),JSON.stringify(_.notifications)!==JSON.stringify(H.notifications)&&(e.notifications=_.notifications),xe(e)},disabled:!(_.exchangeRate!==H.exchangeRate||JSON.stringify(_.notifications)!==JSON.stringify(H.notifications))||"saving"===se,className:"shadow-lg shadow-primary-500/20 hover:bg-white/30 active:scale-95 focus:ring-2 focus:ring-white/50 transition-all duration-200",children:[e.jsx(m,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"saving"===se?"저장 중...":"변경사항 저장"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-token-lg",children:[{key:"total",label:"총 구독",value:me.total,subtext:`${me.active}개 활성`,icon:h,color:"primary",change:null},{key:"monthly",label:"월간 지출",value:`${me.monthlyTotal.toLocaleString("ko-KR")}원`,subtext:`평균 ${me.averagePerSubscription.toLocaleString("ko-KR")}원`,icon:f,color:"success",change:null},{key:"savings",label:"연간 절약",value:`${me.yearlySavings.toLocaleString("ko-KR")}원`,subtext:"연간 구독 할인",icon:j,color:"warning",change:me.yearlySavings>0?"positive":null},{key:"efficiency",label:"구독 효율성",value:`${Math.round(me.active/Math.max(me.total,1)*100)}%`,subtext:`${me.paused+me.cancelled}개 비활성`,icon:g,color:"secondary",change:null}].map(s=>{const t=s.icon;return e.jsxs(n,{variant:"strong",className:"p-token-lg group hover:border-white/30 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between mb-token-sm",children:[e.jsx("div",{className:o("p-token-sm rounded-lg","primary"===s.color&&"bg-primary-500/20","success"===s.color&&"bg-success-500/20","warning"===s.color&&"bg-warning-500/20","secondary"===s.color&&"bg-secondary-500/20"),children:e.jsx(t,{size:20,className:o("icon-enhanced","primary"===s.color&&"text-primary-400","success"===s.color&&"text-white","warning"===s.color&&"text-warning-400","secondary"===s.color&&"text-secondary-400")})}),s.change&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-white-force",children:[e.jsx(f,{size:12,className:"icon-enhanced text-white-force"}),e.jsx("span",{children:"절약"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white-force mb-1 group-hover:scale-105 transition-transform",children:s.value}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:s.label}),e.jsx("p",{className:"text-white-force/50 text-xs mt-1",children:s.subtext})]})]},s.key)})}),e.jsx(n,{variant:"strong",className:"p-token-lg",children:e.jsx("div",{className:"flex flex-wrap gap-token-xs",children:he.map(s=>{const t=s.icon,a=ce===s.key;return e.jsxs(l,{variant:a?"primary":"ghost",size:"sm",onClick:()=>le(s.key),className:o("transition-all duration-200 hover:bg-white/30 active:scale-95 focus:ring-2 focus:ring-white/50",a&&"shadow-lg shadow-primary-500/20"),children:[e.jsx(t,{size:14,className:"mr-1 text-white-force icon-enhanced"}),s.label]},s.key)})})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-token-xl",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-token-lg",children:["profile"===ce&&e.jsxs(n,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-primary-500/20 rounded-lg",children:e.jsx(N,{size:20,className:"text-primary-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force",children:"프로필 정보"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"계정 정보를 관리합니다"})]})]}),e.jsxs("div",{className:"space-y-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(N,{size:32,className:"text-white-force icon-enhanced"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-success-500 rounded-full flex items-center justify-center border-2 border-background",children:e.jsx(w,{size:12,className:"text-white-force icon-enhanced"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-white-force mb-1",children:(null==B?void 0:B.name)||(null==(E=null==B?void 0:B.email)?void 0:E.split("@")[0])}),e.jsx("p",{className:"text-white-force/60 mb-2",children:"Moonwave 사용자"}),e.jsxs("div",{className:"flex items-center space-x-token-sm",children:[e.jsx("div",{className:"px-2 py-1 bg-primary-500/40 border-primary-400/60 shadow-lg shadow-primary-500/30 text-white rounded-full text-xs font-semibold border-2",children:"Premium"}),e.jsx("div",{className:"px-2 py-1 bg-success-500/40 border-success-400/60 shadow-lg shadow-success-500/30 text-white rounded-full text-xs font-semibold border-2",children:"인증됨"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-token-md",children:[e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(k,{size:16,className:"text-info-400 icon-enhanced"}),e.jsx("label",{className:"text-white-force/60 text-sm-ko",children:"이메일 주소"})]}),e.jsx("p",{className:"text-white-force font-medium",children:null==B?void 0:B.email}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(w,{size:12,className:"text-white-force icon-enhanced"}),e.jsx("span",{className:"text-white-force text-xs",children:"인증 완료"})]})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(y,{size:16,className:"text-warning-400 icon-enhanced"}),e.jsx("label",{className:"text-white-force/60 text-sm-ko",children:"가입일"})]}),e.jsx("p",{className:"text-white-force font-medium",children:(null==B?void 0:B.joinDate)?(fe=B.joinDate,new Date(fe).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})):"알 수 없음"}),e.jsx("p",{className:"text-white-force/50 text-xs mt-1",children:(null==B?void 0:B.joinDate)?`${Math.floor(((new Date).getTime()-new Date(B.joinDate).getTime())/864e5)}일 전`:""})]}),(null==B?void 0:B.name)&&e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(N,{size:16,className:"text-secondary-400 icon-enhanced"}),e.jsx("label",{className:"text-white-force/60 text-sm-ko",children:"이름"})]}),e.jsx("p",{className:"text-white-force font-medium",children:B.name})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(g,{size:16,className:"text-white-force icon-enhanced"}),e.jsx("label",{className:"text-white-force/60 text-sm-ko",children:"활성 구독"})]}),e.jsxs("p",{className:"text-white-force font-medium",children:[me.active,"개"]}),e.jsxs("p",{className:"text-white-force/50 text-xs mt-1",children:["총 ",me.total,"개 중"]})]})]}),e.jsx("div",{className:"p-token-md bg-info-500/10 border border-info-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-token-sm",children:[e.jsx(z,{size:16,className:"text-info-400 mt-0.5 flex-shrink-0 icon-enhanced"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-info-300 font-medium mb-1",children:"계정 관리 팁"}),e.jsx("p",{className:"text-info-200/80 text-high-contrast",children:"정기적으로 구독 현황을 점검하고, 사용하지 않는 서비스는 정리하여 불필요한 지출을 줄일 수 있습니다."})]})]})})]})]}),"currency"===ce&&e.jsxs(n,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-success-500/20 rounded-lg",children:e.jsx(p,{size:20,className:"text-white-force icon-enhanced"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force",children:"환율 설정"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"USD 구독의 원화 표시를 위한 환율을 설정합니다"})]})]}),e.jsxs("div",{className:"space-y-token-lg",children:[e.jsxs("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:[e.jsx("label",{className:"text-white-force font-medium mb-token-md block",children:"USD → KRW 환율"}),e.jsxs("div",{className:"flex items-center space-x-token-md",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute left-token-md top-1/2 -translate-y-1/2 text-white-force font-medium",children:"$1 ="}),e.jsx("input",{type:"number",value:_.exchangeRate,onChange:e=>{var s;(s=parseFloat(e.target.value)||0)<=0?alert("환율은 0보다 커야 합니다."):s>1e4?alert("환율은 10,000 이하여야 합니다."):(Q(e=>({...e,exchangeRate:s})),xe({exchangeRate:s}))},onBlur:()=>xe({exchangeRate:_.exchangeRate}),className:"w-full pl-16 pr-16 py-token-md text-xl font-bold bg-white/5 border border-white/10 rounded-lg text-white-force placeholder:text-white-force/40 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent touch-target",min:"1",max:"9999",step:"1"}),e.jsx("div",{className:"absolute right-token-md top-1/2 -translate-y-1/2 text-white-force font-medium",children:"원"})]}),e.jsxs(l,{variant:"primary",onClick:()=>xe({exchangeRate:_.exchangeRate}),disabled:_.exchangeRate===H.exchangeRate||_.exchangeRate<=0,className:"px-token-lg hover:bg-white/30 active:scale-95 focus:ring-2 focus:ring-white/50 transition-all duration-200 touch-target",children:[e.jsx(m,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"적용"]})]}),e.jsx("div",{className:"mt-token-md p-token-md bg-primary-500/10 border border-primary-500/20 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-token-md text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-300 text-xs",children:"$10"}),e.jsxs("p",{className:"text-white-force font-medium",children:[(10*_.exchangeRate).toLocaleString("ko-KR"),"원"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-300 text-xs",children:"$50"}),e.jsxs("p",{className:"text-white-force font-medium",children:[(50*_.exchangeRate).toLocaleString("ko-KR"),"원"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-300 text-xs",children:"$100"}),e.jsxs("p",{className:"text-white-force font-medium",children:[(100*_.exchangeRate).toLocaleString("ko-KR"),"원"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-token-md",children:[e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(S,{size:16,className:"text-info-400 icon-enhanced"}),e.jsx("span",{className:"text-white-force/60 text-sm-ko",children:"현재 설정"})]}),e.jsxs("p",{className:"text-white-force font-bold text-lg",children:[_.exchangeRate.toLocaleString("ko-KR"),"원"]}),e.jsx("p",{className:"text-info-400 text-xs",children:"1 USD 기준"})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(f,{size:16,className:"text-white-force icon-enhanced"}),e.jsx("span",{className:"text-white-force/60 text-sm-ko",children:"월 총 지출"})]}),e.jsxs("p",{className:"text-white-force font-bold text-lg",children:[me.monthlyTotal.toLocaleString("ko-KR"),"원"]}),e.jsx("p",{className:"text-white-force text-xs",children:"환율 적용 후"})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-sm",children:[e.jsx(x,{size:16,className:"text-warning-400 icon-enhanced"}),e.jsx("span",{className:"text-white-force/60 text-sm-ko",children:"업데이트"})]}),e.jsx("p",{className:"text-white-force font-bold text-lg",children:"실시간"}),e.jsx("p",{className:"text-warning-400 text-xs",children:"자동 계산"})]})]}),e.jsxs("div",{className:"p-token-lg bg-gradient-to-r from-primary-500/10 to-secondary-500/10 border border-primary-500/20 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-md",children:[e.jsx(R,{size:20,className:"text-primary-400 icon-enhanced"}),e.jsx("h3",{className:"text-white-force font-semibold",children:"환율 영향 분석"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-token-md",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white-force/70 text-sm-ko mb-2",children:"USD 구독 개수"}),e.jsxs("p",{className:"text-2xl font-bold text-white-force",children:[W.filter(e=>"USD"===e.currency).length,"개"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white-force/70 text-sm-ko mb-2",children:"USD 구독 월 총액"}),e.jsxs("p",{className:"text-2xl font-bold text-primary-400",children:[W.filter(e=>"USD"===e.currency&&"active"===e.status).reduce((e,s)=>e+("yearly"===s.paymentCycle?s.amount/12:s.amount),0).toFixed(2)," USD"]})]})]})]}),e.jsx("div",{className:"p-token-md bg-info-500/10 border border-info-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-token-sm",children:[e.jsx(z,{size:16,className:"text-info-400 mt-0.5 flex-shrink-0 icon-enhanced"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-info-300 font-medium mb-1",children:"환율 설정 안내"}),e.jsx("p",{className:"text-info-200/80 text-high-contrast",children:"설정한 환율은 USD 구독 서비스의 한화 표시에만 사용됩니다. 실제 결제 시에는 카드사나 결제 서비스의 환율이 적용됩니다."})]})]})})]})]}),"notifications"===ce&&e.jsxs(n,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-warning-500/20 rounded-lg",children:e.jsx(u,{size:20,className:"text-warning-400 icon-enhanced"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force",children:"알림 설정"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"구독 관련 알림을 관리합니다"})]})]}),e.jsxs("div",{className:"space-y-token-lg",children:[[{key:"paymentReminders",title:"결제 예정 알림",description:"구독 결제일 전에 미리 알림을 받습니다",icon:y,color:"primary",importance:"high"},{key:"priceChanges",title:"가격 변동 알림",description:"구독 서비스의 가격이 변경될 때 알림을 받습니다",icon:f,color:"warning",importance:"medium"},{key:"subscriptionExpiry",title:"구독 만료 알림",description:"구독이 만료되기 전에 미리 알림을 받습니다",icon:D,color:"error",importance:"high"}].map(s=>{const t=s.icon,a=_.notifications[s.key];return e.jsx("div",{className:o("p-token-lg glass-light rounded-xl border transition-all duration-200",a?"border-primary-500/30 bg-primary-500/5":"border-white/10"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-token-md flex-1",children:[e.jsx("div",{className:o("p-token-sm rounded-lg","primary"===s.color&&"bg-primary-500/20","warning"===s.color&&"bg-warning-500/20","error"===s.color&&"bg-error-500/20"),children:e.jsx(t,{size:20,className:o("primary"===s.color&&"text-primary-400","warning"===s.color&&"text-warning-400","error"===s.color&&"text-error-400")})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-2",children:[e.jsx("h3",{className:"text-white-force font-medium",children:s.title}),"high"===s.importance&&e.jsx("span",{className:"px-2 py-0.5 bg-error-500/40 border-error-400/60 shadow-lg shadow-error-500/30 text-white-force rounded-full text-xs font-semibold border-2",children:"중요"})]}),e.jsx("p",{className:"text-white-force/60 text-sm-ko mb-token-sm",children:s.description}),a&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-white-force",children:[e.jsx(w,{size:12,className:"icon-enhanced"}),e.jsx("span",{children:"활성화됨"})]})]})]}),e.jsx("button",{onClick:()=>((e,s)=>{const t={..._.notifications,[e]:s};Q(e=>({...e,notifications:t})),xe({notifications:t}),s&&"paymentReminders"===e&&"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()})(s.key,!a),className:o("relative inline-flex h-8 w-14 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-background",a?"bg-primary-500":"bg-white/20"),children:e.jsx("span",{className:o("inline-block h-6 w-6 transform rounded-full bg-white transition-transform duration-200 shadow-lg",a?"translate-x-7":"translate-x-1")})})]})},s.key)}),e.jsxs("div",{className:"p-token-lg bg-gradient-to-r from-secondary-500/10 to-primary-500/10 border border-secondary-500/20 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-md",children:[e.jsx(g,{size:20,className:"text-secondary-400 icon-enhanced"}),e.jsx("h3",{className:"text-white-force font-semibold",children:"알림 현황"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-token-md",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-white-force mb-1",children:Object.values(_.notifications).filter(Boolean).length}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"활성 알림"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary-400 mb-1",children:me.active}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"대상 구독"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-secondary-400 mb-1",children:"실시간"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"알림 전송"})]})]})]})]})]}),"security"===ce&&e.jsxs(n,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-error-500/20 rounded-lg",children:e.jsx(b,{size:20,className:"text-error-400 icon-enhanced"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force",children:"보안 설정"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"계정 보안을 관리합니다"})]})]}),e.jsxs("div",{className:"space-y-token-lg",children:[e.jsxs("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-md",children:[e.jsx("div",{className:"w-12 h-12 bg-success-500/20 rounded-full flex items-center justify-center",children:e.jsx(b,{size:24,className:"text-white-force icon-enhanced"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white-force font-semibold",children:"계정 보안 상태"}),e.jsx("p",{className:"text-white-force text-sm-ko",children:"양호"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-token-md",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm",children:[e.jsx(w,{size:16,className:"text-white-force icon-enhanced"}),e.jsx("span",{className:"text-white-force/70 text-sm-ko",children:"이메일 인증 완료"})]}),e.jsxs("div",{className:"flex items-center space-x-token-sm",children:[e.jsx(w,{size:16,className:"text-white-force icon-enhanced"}),e.jsx("span",{className:"text-white-force/70 text-sm-ko",children:"안전한 로그인"})]}),e.jsxs("div",{className:"flex items-center space-x-token-sm",children:[e.jsx(w,{size:16,className:"text-white-force icon-enhanced"}),e.jsx("span",{className:"text-white-force/70 text-sm-ko",children:"데이터 암호화"})]}),e.jsxs("div",{className:"flex items-center space-x-token-sm",children:[e.jsx(w,{size:16,className:"text-white-force icon-enhanced"}),e.jsx("span",{className:"text-white-force/70 text-sm-ko",children:"정기 백업"})]})]})]}),e.jsxs("div",{className:"space-y-token-md",children:[e.jsx("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-token-md",children:[e.jsx("div",{className:"p-token-sm bg-info-500/20 rounded-lg",children:e.jsx(C,{size:20,className:"text-info-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white-force font-medium mb-1",children:"세션 관리"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"현재 기기에서 로그아웃합니다"})]})]}),e.jsxs(l,{variant:"secondary",onClick:async()=>{X(!0);try{await G(),q("/login")}catch(e){te("error")}finally{X(!1)}},disabled:V,children:[e.jsx(C,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),V?"로그아웃 중...":"로그아웃"]})]})}),e.jsx("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-token-md",children:[e.jsx("div",{className:"p-token-sm bg-secondary-500/20 rounded-lg",children:e.jsx(K,{size:20,className:"text-secondary-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white-force font-medium mb-1",children:"데이터 내보내기"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"구독 데이터를 JSON 형태로 다운로드"})]})]}),e.jsxs(l,{variant:"ghost",onClick:()=>{const e=JSON.stringify(W,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(e),t=document.createElement("a");t.setAttribute("href",s),t.setAttribute("download","moonwave-subscriptions.json"),t.click()},className:"text-white/60 hover:text-white",children:[e.jsx(K,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),"내보내기"]})]})})]}),e.jsxs("div",{className:"p-token-lg bg-error-500/10 border border-error-500/20 rounded-xl",children:[e.jsxs("div",{className:"flex items-start space-x-token-sm mb-token-lg",children:[e.jsx(D,{size:20,className:"text-error-400 flex-shrink-0 mt-0.5 icon-enhanced"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-error-300 font-semibold mb-1",children:"위험 구역"}),e.jsx("p",{className:"text-error-200/80 text-sm-ko text-high-contrast",children:"이 작업들은 되돌릴 수 없습니다. 신중하게 진행해주세요."})]})]}),e.jsxs("div",{className:"p-token-md glass-light rounded-lg border border-error-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white-force font-medium mb-1",children:"계정 영구 삭제"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"모든 구독 데이터와 설정이 영구적으로 삭제됩니다"})]}),e.jsxs(l,{variant:"ghost",onClick:()=>{ae?(alert("계정 삭제 기능은 데모에서는 사용할 수 없습니다."),ie(!1),ne(0)):(ie(!0),ne(10))},className:o("transition-all duration-200",ae?"bg-error-500 text-white hover:bg-error-600":"text-error-400 hover:text-error-300 hover:bg-error-500/10"),children:[e.jsx(L,{size:16,className:"mr-token-xs text-white-force icon-enhanced"}),ae?`확인 (${re}초)`:"계정 삭제"]})]}),ae&&e.jsx("div",{className:"mt-token-md p-token-sm bg-error-500/20 border border-error-500/30 rounded-lg",children:e.jsxs("p",{className:"text-error-200 text-xs text-high-contrast",children:["정말로 계정을 삭제하시겠습니까? ",re,"초 후에 자동으로 취소됩니다. 계속하려면 다시 클릭하세요."]})})]})]})]})]}),"advanced"===ce&&e.jsxs(n,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-secondary-500/20 rounded-lg",children:e.jsx(v,{size:20,className:"text-secondary-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white-force",children:"고급 설정"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"시스템 및 개발자 옵션"})]})]}),e.jsxs("div",{className:"space-y-token-lg",children:[e.jsxs("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:[e.jsx("h3",{className:"text-white font-semibold mb-token-md",children:"시스템 정보"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-token-md text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"앱 버전"}),e.jsx("p",{className:"text-white font-medium",children:"Moonwave v2.0"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"빌드"}),e.jsx("p",{className:"text-white font-medium",children:"2024.12.14"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"환경"}),e.jsx("p",{className:"text-white font-medium",children:"Production"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white/60",children:"API 버전"}),e.jsx("p",{className:"text-white font-medium",children:"v1.0"})]})]})]}),e.jsxs("div",{className:"p-token-lg glass-light rounded-xl border border-white/10",children:[e.jsx("h3",{className:"text-white font-semibold mb-token-md",children:"개발자 옵션"}),e.jsxs("div",{className:"space-y-token-md",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"디버그 모드"}),e.jsx("p",{className:"text-white/60 text-sm",children:"콘솔 로그 출력 활성화"})]}),e.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-white/20 transition-colors duration-200",children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 translate-x-1"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:"성능 모니터링"}),e.jsx("p",{className:"text-white/60 text-sm",children:"앱 성능 지표 수집"})]}),e.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-primary-500 transition-colors duration-200",children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 translate-x-6"})})]})]})]}),e.jsxs("div",{className:"p-token-lg bg-gradient-to-r from-primary-500/10 to-secondary-500/10 border border-primary-500/20 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-md",children:[e.jsx(U,{size:20,className:"text-primary-400 icon-enhanced"}),e.jsx("h3",{className:"text-white-force font-semibold",children:"Moonwave 구독 관리"})]}),e.jsx("p",{className:"text-white-force/80 text-sm-ko mb-token-md text-high-contrast",children:"구독 서비스를 효율적으로 관리하고 불필요한 지출을 줄일 수 있도록 돕는 스마트한 구독 관리 플랫폼입니다."}),e.jsxs("div",{className:"flex items-center space-x-token-sm",children:[e.jsxs(l,{variant:"ghost",size:"sm",className:"text-white-force/60 hover:text-white-force",children:[e.jsx(T,{size:14,className:"mr-1 text-white-force icon-enhanced"}),"문서"]}),e.jsxs(l,{variant:"ghost",size:"sm",className:"text-white-force/60 hover:text-white-force",children:[e.jsx($,{size:14,className:"mr-1 text-white-force icon-enhanced"}),"피드백"]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-token-lg",children:[e.jsxs(n,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-gradient-to-br from-primary-500 to-secondary-500 rounded-lg",children:e.jsx(M,{size:20,className:"text-white-force icon-enhanced"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white-force font-semibold",children:"계정 요약"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"주요 지표"})]})]}),e.jsx("div",{className:"space-y-token-md",children:[{label:"활성 구독",value:me.active,total:me.total,color:"success"},{label:"일시정지",value:me.paused,total:me.total,color:"warning"},{label:"해지됨",value:me.cancelled,total:me.total,color:"error"}].map(s=>e.jsxs("div",{className:"p-token-sm glass-light rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white-force/60 text-sm-ko",children:s.label}),e.jsx("span",{className:"text-white-force font-medium text-lg",children:s.value})]}),e.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:o("h-full rounded-full transition-all duration-500","success"===s.color&&"bg-success-500","warning"===s.color&&"bg-warning-500","error"===s.color&&"bg-error-500"),style:{width:s.value/Math.max(s.total,1)*100+"%"}})})]},s.label))})]}),e.jsxs(n,{variant:"strong",className:"p-token-lg",children:[e.jsxs("div",{className:"flex items-center space-x-token-sm mb-token-lg",children:[e.jsx("div",{className:"p-token-sm bg-secondary-500/20 rounded-lg",children:e.jsx(O,{size:20,className:"text-secondary-400 icon-enhanced"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white-force font-semibold",children:"빠른 설정"}),e.jsx("p",{className:"text-white-force/60 text-sm-ko",children:"원클릭 액세스"})]})]}),e.jsx("div",{className:"space-y-token-xs",children:he.map(s=>{const t=s.icon,a=ce===s.key;return e.jsxs("button",{onClick:()=>le(s.key),className:o("w-full p-token-sm rounded-lg text-left transition-all duration-200 flex items-center space-x-token-sm touch-target",a?"bg-primary-500/20 border border-primary-500/30 text-primary-300":"glass-light border border-white/10 text-white-force/60 hover:text-white-force hover:bg-white/5"),children:[e.jsx(t,{size:16,className:"icon-enhanced"}),e.jsx("span",{className:"text-sm-ko font-medium",children:s.label})]},s.key)})})]}),e.jsx(n,{variant:"strong",className:"p-token-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center mx-auto mb-token-md",children:e.jsx(N,{size:24,className:"text-white-force icon-enhanced"})}),e.jsx("h3",{className:"text-white-force font-semibold mb-token-sm",children:(null==B?void 0:B.name)||(null==(F=null==B?void 0:B.email)?void 0:F.split("@")[0])}),e.jsxs("p",{className:"text-3xl font-bold text-white-force mb-token-xs",children:[me.monthlyTotal.toLocaleString("ko-KR"),"원"]}),e.jsx("p",{className:"text-white-force/70 text-sm-ko mb-token-md",children:"월간 구독료"}),me.yearlySavings>0&&e.jsx("div",{className:"p-token-sm bg-success-500/20 border border-success-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-center space-x-1 text-white-force",children:[e.jsx(J,{size:14,className:"icon-enhanced"}),e.jsxs("span",{className:"text-sm-ko font-medium",children:["연간 ",me.yearlySavings.toLocaleString("ko-KR"),"원 절약"]})]})})]})}),e.jsxs(n,{variant:"light",className:"p-token-lg",children:[e.jsx("h3",{className:"text-white-force font-semibold mb-token-md",children:"빠른 액션"}),e.jsxs("div",{className:"space-y-token-sm",children:[e.jsx(a,{to:"/dashboard",children:e.jsxs(l,{variant:"ghost",size:"sm",className:"w-full justify-start text-white-force touch-target",children:[e.jsx(d,{size:14,className:"mr-2 text-white-force icon-enhanced"}),"대시보드로 이동"]})}),e.jsx(a,{to:"/subscriptions",children:e.jsxs(l,{variant:"ghost",size:"sm",className:"w-full justify-start text-white-force touch-target",children:[e.jsx(h,{size:14,className:"mr-2 text-white-force icon-enhanced"}),"구독 관리"]})}),e.jsx(a,{to:"/notifications",children:e.jsxs(l,{variant:"ghost",size:"sm",className:"w-full justify-start text-white-force touch-target",children:[e.jsx(u,{size:14,className:"mr-2 text-white-force icon-enhanced"}),"알림 센터"]})})]})]})]})]})]})}),e.jsx(r,{})]});var fe}export{A as Settings};
