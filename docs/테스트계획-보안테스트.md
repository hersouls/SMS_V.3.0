# 📋 SMS V.3.0 보안 테스트 계획

**문서 버전**: 3.0  
**작성일**: 2025-08-03  
**대상 시스템**: Moonwave SMS V.3.0 (구독 관리 시스템)  
**기술 스택**: React 18.3.1 + TypeScript + Vite + Supabase + PWA

---

## 1. 📖 개요

### 1.1 목적
- **SMS V.3.0 보안 취약점 식별** 및 평가
- **Supabase 기반 데이터 보호** 및 개인정보 보안 확인
- **Google OAuth + Supabase Auth** 인증 시스템 검증
- **RLS (Row Level Security)** 및 권한 관리 확인
- **PWA 보안** 및 Service Worker 보안 검증
- **OWASP Top 10 2021** 기준 보안 정책 준수 확인

### 1.2 테스트 범위
- **🔐 인증 및 세션 관리** (Supabase Auth + Google OAuth)
- **🛡️ 데이터베이스 보안** (Supabase RLS + PostgreSQL)
- **🔒 데이터 암호화** 및 전송 보안 (HTTPS + TLS)
- **⚡ API 보안** (REST API + JWT)
- **🎯 입력 검증** 및 출력 인코딩
- **📱 PWA 보안** (Service Worker + Manifest)
- **🌐 클라이언트 사이드 보안** (React + TypeScript)

## 2. 🎯 보안 목표

### 2.1 🛡️ 데이터 보호
- **개인정보 보호**: GDPR, 개인정보보호법 준수
- **Supabase 데이터 암호화**: 전송 중(TLS) 및 저장 시 암호화
- **RLS 기반 접근 제어**: 사용자별 데이터 격리
- **구독 데이터 보호**: 민감한 결제 정보 암호화

### 2.2 🔐 인증 및 권한 보안
- **Google OAuth 2.0**: 안전한 소셜 로그인
- **Supabase JWT**: 토큰 기반 인증
- **세션 관리**: 안전한 세션 처리 및 타임아웃
- **사용자별 데이터 격리**: RLS 정책 기반 권한 제어

### 2.3 ⚡ 애플리케이션 보안
- **TypeScript 타입 안전성**: 컴파일 타임 보안
- **React 18 보안**: XSS 자동 방지
- **입력 검증**: 모든 사용자 입력 검증
- **API 보안**: REST API 엔드포인트 보호

### 2.4 📱 PWA 보안
- **Service Worker 보안**: 안전한 오프라인 동작
- **Manifest 보안**: 앱 설치 및 권한 관리
- **캐시 보안**: 민감한 데이터 캐시 방지

## 3. 🧪 테스트 환경

### 3.1 환경 구성
**개발 환경:**
- **URL**: http://localhost:3010
- **Database**: Supabase Development
- **Auth**: Google OAuth Test App
- **SSL**: 로컬 HTTPS (개발용)

**프로덕션 환경:**
- **URL**: https://sub.moonwave.kr
- **Database**: Supabase Production
- **Auth**: Google OAuth Production
- **SSL**: Let's Encrypt / CloudFlare

### 3.2 🛠️ 테스트 도구
**자동화 도구:**
- **OWASP ZAP**: 웹 애플리케이션 보안 스캐너
- **npm audit**: Node.js 의존성 취약점 검사
- **Snyk**: 실시간 취약점 모니터링
- **ESLint Security**: 정적 코드 보안 분석

**수동 테스트 도구:**
- **Browser DevTools**: 클라이언트 사이드 보안 검사
- **Postman**: API 보안 테스트
- **Supabase Dashboard**: 데이터베이스 보안 설정 확인

### 3.3 📊 모니터링 도구
- **Supabase Auth Logs**: 인증 이벤트 모니터링
- **Vercel Analytics**: 성능 및 보안 메트릭
- **Google Console**: OAuth 보안 이벤트

## 4. 🔍 보안 테스트 케이스

### 4.1 🔐 인증 및 세션 관리

#### 4.1.1 Supabase 인증 보안
- **SEC-001**: Google OAuth 2.0 인증 보안
  - **테스트 ID**: SEC-001
  - **우선순위**: Critical
  - **전제조건**: Google OAuth 설정 완료, 개발 서버 실행
  - **테스트 방법**:
    ```
    1. Google 로그인 버튼 클릭
    2. OAuth 권한 요청 범위 확인 (email, profile만)
    3. 토큰 교환 과정 안전성 확인
    4. 사용자 정보 저장 최소화 확인
    ```
  - **예상결과**: 
    - ✅ 최소 권한 원칙 준수
    - ✅ HTTPS 통신만 허용
    - ✅ 민감한 정보 클라이언트 노출 없음
  - **OWASP 매핑**: A07:2021 - Identification and Authentication Failures

- **SEC-002**: JWT 토큰 보안
  - **테스트 ID**: SEC-002
  - **우선순위**: High
  - **전제조건**: 로그인 상태
  - **테스트 방법**:
    ```
    1. JWT 토큰 구조 분석 (Header.Payload.Signature)
    2. 토큰 만료 시간 확인 (기본 1시간)
    3. 토큰 변조 시도 및 검증 확인
    4. Refresh Token 보안 확인
    ```
  - **예상결과**:
    - ✅ 토큰 변조 시 인증 실패
    - ✅ 만료된 토큰 자동 갱신
    - ✅ 안전한 토큰 저장 (httpOnly 쿠키 또는 secure storage)

- **SEC-003**: 세션 관리 보안
  - **테스트 ID**: SEC-003
  - **우선순위**: High
  - **전제조건**: 활성 사용자 세션
  - **테스트 방법**:
    ```
    1. 세션 타임아웃 테스트 (비활성 상태 1시간)
    2. 다중 기기 로그인 처리
    3. 로그아웃 시 토큰 무효화 확인
    4. 브라우저 종료 시 세션 처리
    ```
  - **예상결과**:
    - ✅ 자동 세션 타임아웃
    - ✅ 로그아웃 시 완전한 세션 무효화
    - ✅ 다중 세션 보안 관리

#### 4.1.2 사용자 권한 관리
- **SEC-004**: RLS (Row Level Security) 정책 테스트
  - **테스트 ID**: SEC-004
  - **우선순위**: Critical
  - **전제조건**: 2명 이상의 테스트 사용자 계정
  - **테스트 방법**:
    ```
    1. 사용자 A로 로그인하여 구독 데이터 생성
    2. 사용자 B로 로그인하여 사용자 A 데이터 접근 시도
    3. API 직접 호출로 권한 우회 시도
    4. 관리자 권한 없이 시스템 테이블 접근 시도
    ```
  - **예상결과**:
    - ✅ 타 사용자 데이터 접근 차단
    - ✅ RLS 정책 우회 불가
    - ✅ 적절한 에러 메시지 반환
  - **OWASP 매핑**: A01:2021 - Broken Access Control

### 4.2 🛡️ 데이터 보호 및 암호화

#### 4.2.1 전송 데이터 보안
- **SEC-005**: HTTPS/TLS 보안
  - **테스트 ID**: SEC-005
  - **우선순위**: Critical
  - **전제조건**: 배포된 애플리케이션
  - **테스트 방법**:
    ```
    1. HTTP→HTTPS 리다이렉트 확인
    2. TLS 1.3 사용 확인 (openssl s_client)
    3. 인증서 유효성 검증
    4. 암호화 스위트 강도 확인
    5. HSTS 헤더 설정 확인
    ```
  - **예상결과**:
    - ✅ 모든 통신 HTTPS 강제
    - ✅ TLS 1.3 또는 1.2 사용
    - ✅ 유효한 SSL 인증서
    - ✅ 강력한 암호화 스위트
  - **OWASP 매핑**: A02:2021 - Cryptographic Failures

- **SEC-006**: Supabase 데이터 전송 보안
  - **테스트 ID**: SEC-006
  - **우선순위**: High
  - **전제조건**: Supabase 연결 설정
  - **테스트 방법**:
    ```
    1. Supabase API 호출 시 TLS 확인
    2. API 키 전송 암호화 확인
    3. 데이터베이스 연결 암호화 확인
    4. WebSocket 연결 보안 확인 (실시간 기능)
    ```
  - **예상결과**:
    - ✅ 모든 Supabase 통신 암호화
    - ✅ API 키 안전한 전송
    - ✅ 실시간 연결 보안

#### 4.2.2 저장 데이터 보안
- **SEC-007**: 민감한 데이터 암호화
  - **테스트 ID**: SEC-007
  - **우선순위**: High
  - **전제조건**: 구독 데이터 저장
  - **테스트 방법**:
    ```
    1. 결제 정보 암호화 상태 확인
    2. 개인정보 암호화 여부 확인
    3. 데이터베이스 직접 접근 시 암호화 확인
    4. 백업 데이터 암호화 확인
    ```
  - **예상결과**:
    - ✅ 결제 관련 정보 암호화
    - ✅ 평문으로 저장된 민감 정보 없음
    - ✅ Supabase 기본 암호화 활용

#### 4.2.3 개인정보 보호 준수
- **SEC-008**: GDPR/개인정보보호법 준수
  - **테스트 ID**: SEC-008
  - **우선순위**: Medium
  - **전제조건**: 사용자 가입 및 데이터 수집
  - **테스트 방법**:
    ```
    1. 수집하는 개인정보 최소화 확인
    2. 사용자 동의 절차 확인
    3. 데이터 삭제 요청 처리 확인
    4. 데이터 이동권 지원 확인
    ```
  - **예상결과**:
    - ✅ 필수 정보만 수집 (이메일, 이름)
    - ✅ 명시적 사용자 동의
    - ✅ 계정 삭제 시 데이터 완전 삭제

### 4.3 🎯 입력 검증 및 출력 보안

#### 4.3.1 인젝션 공격 방지
- **SEC-009**: SQL/NoSQL 인젝션 테스트
  - **테스트 ID**: SEC-009
  - **우선순위**: Critical
  - **전제조건**: 구독 관리 기능 사용 가능
  - **테스트 방법**:
    ```
    1. 구독명에 SQL 인젝션 코드 입력:
       - ' OR '1'='1
       - '; DROP TABLE subscriptions; --
       - UNION SELECT * FROM auth.users
    2. 검색 기능에 악성 코드 입력
    3. 금액 필드에 비정상 값 입력
    4. Supabase 쿼리 빌더 안전성 확인
    ```
  - **예상결과**:
    - ✅ 모든 악성 입력 차단
    - ✅ Supabase 자동 이스케이핑 동작
    - ✅ 에러 시 민감 정보 노출 없음
  - **OWASP 매핑**: A03:2021 - Injection

#### 4.3.2 XSS 공격 방지
- **SEC-010**: Cross-Site Scripting 테스트
  - **테스트 ID**: SEC-010
  - **우선순위**: High
  - **전제조건**: 사용자 입력 저장 기능
  - **테스트 방법**:
    ```
    1. 구독 메모에 XSS 코드 입력:
       - <script>alert('XSS')</script>
       - <img src=x onerror=alert('XSS')>
       - javascript:alert('XSS')
    2. 카테고리명에 HTML 태그 입력
    3. 사용자 프로필 정보에 악성 코드 입력
    4. React JSX 자동 이스케이핑 확인
    ```
  - **예상결과**:
    - ✅ React 자동 XSS 방지 동작
    - ✅ 모든 사용자 입력 HTML 이스케이핑
    - ✅ CSP 헤더 설정으로 인라인 스크립트 차단
  - **OWASP 매핑**: A03:2021 - Injection

#### 4.3.3 CSRF 공격 방지
- **SEC-011**: Cross-Site Request Forgery 테스트
  - **테스트 ID**: SEC-011
  - **우선순위**: Medium
  - **전제조건**: 로그인 상태, 구독 관리 기능
  - **테스트 방법**:
    ```
    1. 외부 사이트에서 SMS V.3.0 API 호출 시도
    2. SameSite 쿠키 설정 확인
    3. Origin/Referer 헤더 검증 확인
    4. Supabase Auth 토큰 CSRF 보호 확인
    ```
  - **예상결과**:
    - ✅ 외부 사이트에서 API 호출 차단
    - ✅ SameSite=Strict 쿠키 설정
    - ✅ Supabase 기본 CSRF 보호 동작

### 4.4 ⚡ API 보안

#### 4.4.1 API 인증 및 권한
- **SEC-012**: REST API 보안
  - **테스트 ID**: SEC-012
  - **우선순위**: Critical
  - **전제조건**: API 엔드포인트 접근 가능
  - **테스트 방법**:
    ```
    1. 인증 없이 API 접근 시도:
       - GET /api/subscriptions
       - POST /api/subscriptions
       - DELETE /api/subscriptions/123
    2. 타 사용자 토큰으로 API 접근 시도
    3. 만료된 토큰으로 API 접근
    4. API Rate Limiting 확인
    ```
  - **예상결과**:
    - ✅ 인증 없는 접근 차단 (401 Unauthorized)
    - ✅ 권한 없는 리소스 접근 차단 (403 Forbidden)
    - ✅ 적절한 에러 메시지 반환
  - **OWASP 매핑**: A01:2021 - Broken Access Control

#### 4.4.2 API 입력 검증
- **SEC-013**: API 데이터 검증
  - **테스트 ID**: SEC-013
  - **우선순위**: High
  - **전제조건**: 구독 생성/수정 API
  - **테스트 방법**:
    ```
    1. 잘못된 데이터 타입 전송:
       - amount: "abc" (숫자가 아닌 값)
       - currency: "INVALID" (허용되지 않는 통화)
    2. 필수 필드 누락
    3. 데이터 길이 제한 테스트
    4. SQL/NoSQL 인젝션 코드 전송
    ```
  - **예상결과**:
    - ✅ 입력 검증 에러 반환 (400 Bad Request)
    - ✅ TypeScript 타입 안전성 동작
    - ✅ 명확한 에러 메시지 제공

### 4.5 📱 PWA 보안

#### 4.5.1 Service Worker 보안
- **SEC-014**: Service Worker 보안 테스트
  - **테스트 ID**: SEC-014
  - **우선순위**: Medium
  - **전제조건**: PWA 설치 및 오프라인 기능
  - **테스트 방법**:
    ```
    1. Service Worker 스코프 제한 확인
    2. 민감한 데이터 캐시 여부 확인
    3. 오프라인 상태에서 인증 처리
    4. Service Worker 업데이트 보안
    ```
  - **예상결과**:
    - ✅ 적절한 스코프 제한
    - ✅ 민감한 데이터 캐시 안 함
    - ✅ 오프라인에서 적절한 인증 처리

#### 4.5.2 Manifest 보안
- **SEC-015**: PWA Manifest 보안
  - **테스트 ID**: SEC-015
  - **우선순위**: Low
  - **전제조건**: PWA 설치 가능
  - **테스트 방법**:
    ```
    1. Manifest.json 권한 설정 확인
    2. 앱 설치 시 권한 요청 확인
    3. 딥링크 보안 확인
    4. 아이콘 및 리소스 보안
    ```
  - **예상결과**:
    - ✅ 최소 권한만 요청
    - ✅ 안전한 딥링크 처리
    - ✅ 리소스 무결성 보장

### 4.4 API 보안

#### 4.4.1 API 인증
- **SEC-013**: API 토큰 보안
  - 전제조건: API 엔드포인트
  - 테스트 방법:
    - JWT 토큰 검증
    - 토큰 만료 확인
    - 토큰 재발급 확인
  - 예상결과: 안전한 API 인증

- **SEC-014**: API 권한 관리
  - 전제조건: 사용자별 데이터
  - 테스트 방법:
    - 다른 사용자 데이터 접근 시도
    - 권한 검증 확인
    - 접근 거부 확인
  - 예상결과: 적절한 권한 제어

#### 4.4.2 API 입력 검증
- **SEC-015**: API 입력 검증
  - 전제조건: API 엔드포인트
  - 테스트 방법:
    - 잘못된 데이터 타입 전송
    - 필수 필드 누락
    - 데이터 길이 제한
  - 예상결과: 입력 검증 및 에러 처리

### 4.5 클라이언트 사이드 보안

#### 4.5.1 프론트엔드 보안
- **SEC-016**: 클라이언트 사이드 검증
  - 전제조건: 브라우저 환경
  - 테스트 방법:
    - 개발자 도구로 검증 우회
    - JavaScript 코드 조작
    - 로컬 스토리지 보안
  - 예상결과: 서버 사이드 검증 우선

- **SEC-017**: 소스 코드 보호
  - 전제조건: 배포된 애플리케이션
  - 테스트 방법:
    - 소스 코드 노출 확인
    - 민감한 정보 노출 확인
    - 디버깅 정보 제거 확인
  - 예상결과: 민감한 정보 노출 없음

#### 4.5.2 PWA 보안
- **SEC-018**: Service Worker 보안
  - 전제조건: PWA 설치
  - 테스트 방법:
    - Service Worker 스코프 확인
    - 캐시 보안 확인
    - 오프라인 보안 확인
  - 예상결과: 안전한 PWA 동작

### 4.6 인프라 보안

#### 4.6.1 네트워크 보안
- **SEC-019**: 네트워크 스캔
  - 전제조건: 배포된 환경
  - 테스트 방법:
    - 포트 스캔
    - 서비스 버전 확인
    - 불필요한 서비스 확인
  - 예상결과: 필요한 서비스만 노출

- **SEC-020**: SSL/TLS 설정
  - 전제조건: HTTPS 연결
  - 테스트 방법:
    - 암호화 스위트 확인
    - 인증서 유효성 확인
    - HSTS 헤더 확인
  - 예상결과: 강력한 SSL/TLS 설정

## 5. 보안 취약점 분류

### 5.1 심각도 분류
- **Critical**: 즉시 수정 필요 (데이터 유출, 인증 우회)
- **High**: 빠른 수정 필요 (권한 상승, 데이터 조작)
- **Medium**: 계획적 수정 (정보 노출, 기능 우회)
- **Low**: 개선 사항 (정보 수집, 보안 강화)

### 5.2 OWASP Top 10 대응
- **A01:2021 - Broken Access Control**
- **A02:2021 - Cryptographic Failures**
- **A03:2021 - Injection**
- **A04:2021 - Insecure Design**
- **A05:2021 - Security Misconfiguration**
- **A06:2021 - Vulnerable and Outdated Components**
- **A07:2021 - Identification and Authentication Failures**
- **A08:2021 - Software and Data Integrity Failures**
- **A09:2021 - Security Logging and Monitoring Failures**
- **A10:2021 - Server-Side Request Forgery (SSRF)**

## 6. 보안 테스트 방법

### 6.1 자동화 테스트
- **정적 분석**: 소스 코드 보안 검사
- **동적 분석**: 런타임 보안 테스트
- **의존성 검사**: 취약한 라이브러리 확인

### 6.2 수동 테스트
- **침투 테스트**: 실제 공격 시나리오
- **코드 리뷰**: 보안 관점 코드 검토
- **설정 검토**: 보안 설정 확인

### 6.3 보안 스캔
- **웹 애플리케이션 스캔**: OWASP ZAP
- **네트워크 스캔**: Nmap
- **데이터베이스 스캔**: SQLMap

## 7. 보안 모니터링

### 7.1 로그 모니터링
- **인증 로그**: 로그인 시도, 실패
- **API 로그**: 요청/응답, 에러
- **시스템 로그**: 서버 상태, 에러

### 7.2 알림 설정
- **보안 이벤트**: 의심스러운 활동 감지
- **성능 이벤트**: 비정상적인 트래픽
- **에러 이벤트**: 시스템 오류

### 7.3 대응 절차
- **사고 대응**: 보안 사고 발생 시 절차
- **복구 절차**: 시스템 복구 방법
- **통보 절차**: 관련자 통보 방법

## 8. 보안 정책

### 8.1 개발 보안 정책
- **코드 리뷰**: 보안 코드 리뷰 필수
- **테스트**: 보안 테스트 자동화
- **배포**: 보안 검사 후 배포

### 8.2 운영 보안 정책
- **접근 제어**: 최소 권한 원칙
- **백업**: 정기적인 보안 백업
- **업데이트**: 보안 패치 정기 적용

### 8.3 사용자 보안 정책
- **비밀번호 정책**: 강력한 비밀번호 요구
- **세션 관리**: 안전한 세션 처리
- **데이터 보호**: 개인정보 보호

## 9. 보안 테스트 완료 기준

### 9.1 보안 목표 달성
- 모든 Critical/High 취약점 해결
- OWASP Top 10 대응 완료
- 보안 정책 준수 확인

### 9.2 보안 인증
- 보안 테스트 결과 검토
- 보안 감사 통과
- 보안 인증 획득

### 9.3 지속적 모니터링
- 보안 모니터링 시스템 구축
- 정기적인 보안 검사
- 보안 업데이트 적용

## 5. 📊 보안 테스트 완료 기준

### 5.1 Critical 보안 요구사항 (100% 통과 필수)
- ✅ **SEC-001**: Google OAuth 2.0 인증 보안
- ✅ **SEC-004**: RLS (Row Level Security) 정책
- ✅ **SEC-005**: HTTPS/TLS 보안
- ✅ **SEC-009**: SQL/NoSQL 인젝션 방지
- ✅ **SEC-012**: REST API 보안

### 5.2 High 보안 요구사항 (90% 이상 통과)
- ✅ **SEC-002**: JWT 토큰 보안
- ✅ **SEC-003**: 세션 관리 보안
- ✅ **SEC-007**: 민감한 데이터 암호화
- ✅ **SEC-010**: XSS 공격 방지
- ✅ **SEC-013**: API 데이터 검증

### 5.3 Medium/Low 보안 요구사항 (80% 이상 통과)
- ✅ **SEC-006**: Supabase 데이터 전송 보안
- ✅ **SEC-008**: GDPR/개인정보보호법 준수
- ✅ **SEC-011**: CSRF 공격 방지
- ✅ **SEC-014**: Service Worker 보안
- ✅ **SEC-015**: PWA Manifest 보안

---

## 6. 🛠️ 보안 테스트 도구 및 체크리스트

### 6.1 자동화 보안 검사
```bash
# 의존성 취약점 검사
npm audit --audit-level=moderate

# TypeScript 보안 검사
npm run type-check

# ESLint 보안 규칙 검사
npm run lint

# 빌드 보안 검사
npm run build
```

### 6.2 수동 보안 검사
- **🔐 인증 플로우**: Google OAuth → JWT 토큰 → 세션 관리
- **🛡️ 권한 검증**: RLS 정책 → API 권한 → 데이터 격리
- **🎯 입력 검증**: XSS 방지 → SQL 인젝션 방지 → 데이터 타입 검증
- **📱 PWA 보안**: Service Worker → Manifest → 오프라인 보안

### 6.3 보안 체크리스트

#### 6.3.1 개발 단계 ✅
- [x] **보안 요구사항 정의** (SMS V.3.0 보안 정책)
- [x] **보안 설계 검토** (Supabase RLS + OAuth)
- [x] **TypeScript 타입 안전성** (컴파일 타임 보안)
- [x] **React 18 XSS 자동 방지** (JSX 이스케이핑)

#### 6.3.2 배포 단계 (진행 중)
- [ ] **HTTPS 강제 설정** (프로덕션 환경)
- [ ] **CSP 헤더 설정** (Content Security Policy)
- [ ] **보안 헤더 설정** (HSTS, X-Frame-Options 등)
- [ ] **환경 변수 보안** (민감한 정보 분리)

#### 6.3.3 운영 단계 (예정)
- [ ] **정기적인 보안 스캔** (월 1회)
- [ ] **의존성 업데이트** (주 1회)
- [ ] **보안 로그 모니터링** (Supabase Auth Logs)
- [ ] **사고 대응 절차** (보안 인시던트 대응)

---

## 7. 🎯 OWASP Top 10 2021 대응 현황

| OWASP 항목 | 설명 | SMS V.3.0 대응 | 상태 |
|---|---|---|---|
| **A01:2021** | Broken Access Control | RLS 정책 + JWT 인증 | ✅ |
| **A02:2021** | Cryptographic Failures | HTTPS + Supabase 암호화 | ✅ |
| **A03:2021** | Injection | Supabase 자동 방지 + TypeScript | ✅ |
| **A04:2021** | Insecure Design | 보안 설계 리뷰 완료 | ✅ |
| **A05:2021** | Security Misconfiguration | 환경별 보안 설정 | 🔄 |
| **A06:2021** | Vulnerable Components | npm audit + 정기 업데이트 | ✅ |
| **A07:2021** | Authentication Failures | Google OAuth + Supabase Auth | ✅ |
| **A08:2021** | Software Integrity Failures | 코드 서명 + 무결성 검증 | 🔄 |
| **A09:2021** | Logging Failures | Supabase 로깅 + 모니터링 | 🔄 |
| **A10:2021** | SSRF | 클라이언트 사이드 앱으로 N/A | N/A |

**범례**: ✅ 완료 | 🔄 진행 중 | ❌ 미완료 | N/A 해당 없음

---

**문서 업데이트 완료** 📋  
**다음 단계**: 실제 보안 테스트 실행 및 결과 검증 